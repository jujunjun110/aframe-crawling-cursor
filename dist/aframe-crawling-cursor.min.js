!function(t){var e={};function r(o){if(e[o])return e[o].exports;var a=e[o]={exports:{},id:o,loaded:!1};return t[o].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=t,r.c=e,r.p="",r(0)}([function(t,e){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("crawling-cursor",{dependencies:["raycaster"],schema:{target:{type:"selector"},offset:{type:"number",default:.05}},multiple:!1,init:function(){this.el;var t=this.data;if(null===t.target){var e=document.querySelector("a-cursor");if(null===e)return void console.warn("Please put a-cursor in a document");t.target=e}},tick:function(){console.log(this.data);var t=function(t,e){for(var r=0,o=t.length;r<o;r++)if(e.target!==t[r].object.el&&!t[r].object.el.classList.contains("ignore-ray"))return t[r];return null}(this.el.components.raycaster.intersections,this.data);if(t){var e=t.object.matrixWorld;e.setPosition(new THREE.Vector3(0,0,0));var r=t.face.normal.clone().applyMatrix4(e).normalize(),o=(new THREE.Vector3).addVectors(t.point,r);this.data.target.object3D.lookAt(o);var a=(new THREE.Vector3).addVectors(t.point,r.multiplyScalar(this.data.offset));this.data.target.setAttribute("position",a)}}})}]);
